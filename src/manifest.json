{
	"$schema": "https://json.schemastore.org/webextension.json",
	// "$schema": "https://json.schemastore.org/chrome-manifest",
	"name": "hyperupcall",
	"description": "hyperupcall's Browser Extension",
	"version": "0.1.0",
	"manifest_version": 2,
	"default_locale": "en",
	"author": "Edwin Kofler",
	"homepage_url": "https://github.com/hyperupcall/webext-hyperupcall",
	"background": {
		"scripts": [
			// github stuff
			"js/features/github-repo-size-background.js",

			// arxiv stuff
			"js/features/arxiv-vanity-background.js",
			// reddit stuff
			"js/features/reddit-redirect-background.js",
			// stackoverflow-poweruser
			"stackoverflow-poweruser/js/background.js",
			// github-user-languages
			"github-user-languages/js/background.js",
			// frame-by-frame
			"frame-by-frame/js/background.js",
			// pages2repo
			"pages2repo/js/github.js",
			"pages2repo/js/background.js"
		]
	},
	"content_scripts": [
		// github stuff
		{
			"matches": ["https://github.com/*"],
			"js": ["js/features/github-repo-size.js"],
			"run_at": "document_end"
		},
		{
			"matches": [
				"https://github.com/*",
				"https://gitlab.com/*",
				"https://bitbucket.org/*"
			],
			"js": ["js/features/github-history.js"],
			"run_at": "document_end"
		},
		{
			"css": ["css/features/github-isometric.css"],
			"js": ["js/deps/obelisk.min.js", "js/features/github-isometric.js"],
			"matches": ["https://github.com/*"]
		},
		// arxiv stuff
		{
			"matches": ["https://arxiv.org/abs/*"],
			"js": ["js/features/arxiv-video.js", "js/features/arxiv-vanity.js"],
			"run_at": "document_end"
		},
		{
			"matches": [
				"*://arxiv.org/*pdf*",
				"*://arxiv.org/abs/*",
				"*://export.arxiv.org/*pdf*",
				"*://export.arxiv.org/abs/*"
			],
			"js": ["arxiv-utils/js/background.js"],
			"run_at": "document_end"
		},
		// reddit stuff
		{
			"matches": ["*://old.reddit.com/*"],
			"css": ["css/features/reddit-redirect.css"],
			"run_at": "document_start"
		},
		// stackoverflow stuff
		{
			"css": [
				"stackoverflow-poweruser/css/content_style.css",
				"stackoverflow-poweruser/css/floating_sidebar.css"
			],
			"js": [
				"stackoverflow-poweruser/js/main.js",
				"stackoverflow-poweruser/js/helper.js",
				"stackoverflow-poweruser/js/features/better_answer.js",
				"stackoverflow-poweruser/js/features/expand_votes_counts.js",
				"stackoverflow-poweruser/js/features/floating_sidebar.js",
				"stackoverflow-poweruser/js/features/hiding_content.js",
				"stackoverflow-poweruser/js/features/misc_features.js",
				"stackoverflow-poweruser/js/features/no_answer.js",
				"stackoverflow-poweruser/js/features/navigate_through_answers.js"
			],
			"matches": [
				"https://*.stackoverflow.com/questions/*/*",
				"https://*.superuser.com/questions/*/*",
				"https://*.stackexchange.com/questions/*/*",
				"https://*.stackapps.com/*/*",
				"https://*.askubuntu.com/*/*",
				"https://*.serverfault.com/*/*",
				"https://*.mathoverflow.net/*/*",
				"https://*.meta.stackoverflow.com/*/*",
				"https://*.meta.stackexchange.com/*/*"
			]
		},
		// git-history-browser-extension

		// github-user-languages
		{
			"js": [
				"github-user-languages/js/vendor.js",
				"github-user-languages/js/content_script.js"
			],
			"matches": ["https://github.com/*"]
		},
		// frame-by-frame
		{
			"all_frames": true,
			"css": ["frame-by-frame/css/content-styles.css"],
			"js": [
				"frame-by-frame/js/extension-core.js",
				"frame-by-frame/js/extension-features.js"
			],
			"matches": ["<all_urls>"],
			"run_at": "document_start"
		}
	],
	"web_accessible_resources": [
		// papers-with-video
		"data/arxiv-papers-to-video.json",
		// stackoverflow power user
		"images/icons/*",
		// github-user-languages
		"github/user-languages/data/colors.json"
	],
	"permissions": [
		// shared
		"storage",
		"nativeMessaging",
		"activeTab",
		"management",
		"contextMenus",

		// arxiv-utils
		"tabs",
		"*://export.arxiv.org/*",
		"*://arxiv.org/*",
		// old-reddit redirect
		"webRequest",
		"webRequestBlocking",
		"*://reddit.com/*",
		"*://www.reddit.com/*",
		"*://np.reddit.com/*",
		"*://amp.reddit.com/*",
		"*://i.reddit.com/*",
		// github-user-languages
		"https://api.github.com/",
		// arxiv-vanity
		"*://*.arxiv.org/*",
		// pages2repo
		"clipboardWrite",
		"https://*.github.io/*",
		"https://github.com/"
	],
	"optional_permissions": [
		// frame-by-frame
		"downloads"
	],
	"browser_action": {
		// "default_popup": "./pages/popup.html",
		// "default_popup": "github-user-languages/pages/popup.html",
		"default_popup": "frame-by-frame/pages/popup.html",
		"default_icon": {
			"16": "./images/redpanda-16.png",
			"32": "./images/redpanda-32.png",
			"48": "./images/redpanda-48.png",
			"128": "./images/redpanda-128.png"
		}
	},
	"icons": {
		"16": "./images/redpanda-16.png",
		"32": "./images/redpanda-32.png",
		"48": "./images/redpanda-48.png",
		"128": "./images/redpanda-128.png"
	},
	// "options_page": "arxiv-utils/pages/options.html"
	// "options_page": "stackoverflow-poweruser/pages/options.html",
	"options_page": "pages/options.html"
}
